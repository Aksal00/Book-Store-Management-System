{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\My Projects\\\\Test_Project_1\\\\Book-Store-Management-System\\\\frontend\\\\src\\\\Books.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport BookForm from \"./BookForm\";\nimport BooksTable from \"./BooksTable\";\nimport { Box } from '@mui/material';\nimport Axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Books = () => {\n  _s();\n  const [books, setBooks] = useState([]);\n  const [submitted, setSubmitted] = useState(false);\n  const [isEdit, setIsEdit] = useState(false);\n  const [selectedBook, setSelectedBook] = useState({});\n  useEffect(() => {\n    getBooks();\n  }, []);\n  const getBooks = () => {\n    Axios.get('http://localhost:3001/api/books').then(response => {\n      var _response$data;\n      setBooks(((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.response) || []);\n    }).catch(error => {\n      console.error(\"Axios Error: \", error);\n    });\n  };\n  const addBook = data => {\n    setSubmitted(true);\n    const payload = {\n      id: data.id,\n      name: data.name,\n      author: data.author\n    };\n    Axios.post('http://localhost:3001/api/addbook', payload).then(() => {\n      getBooks();\n      setSubmitted(false);\n      setIsEdit(false);\n    }).catch(error => {\n      console.error(\"Axios Error: \", error);\n    });\n  };\n  const updateBook = data => {\n    setSubmitted(true);\n    const payload = {\n      id: data.id,\n      name: data.name,\n      author: data.author\n    };\n    Axios.post('http://localhost:3001/api/updatebook', payload).then(() => {\n      getBooks();\n      setSubmitted(false);\n      setIsEdit(false);\n    }).catch(error => {\n      console.error(\"Axios Error: \", error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      padding: '100px',\n      margin: 'auto',\n      marginTop: '100px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(BookForm, {\n      addBook: addBook,\n      submitted: submitted,\n      data: selectedBook\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(BooksTable, {\n      rows: books,\n      selectedBook: data => {\n        setSelectedBook(data);\n        setIsEdit(true);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n};\n_s(Books, \"DRbLyBc/VgmMVFbR4txFzGM3eXI=\");\n_c = Books;\nexport default Books;\nvar _c;\n$RefreshReg$(_c, \"Books\");","map":{"version":3,"names":["useEffect","useState","BookForm","BooksTable","Box","Axios","jsxDEV","_jsxDEV","Books","_s","books","setBooks","submitted","setSubmitted","isEdit","setIsEdit","selectedBook","setSelectedBook","getBooks","get","then","response","_response$data","data","catch","error","console","addBook","payload","id","name","author","post","updateBook","sx","padding","margin","marginTop","children","fileName","_jsxFileName","lineNumber","columnNumber","rows","_c","$RefreshReg$"],"sources":["C:/Users/User/Desktop/My Projects/Test_Project_1/Book-Store-Management-System/frontend/src/Books.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport BookForm from \"./BookForm\"\r\nimport BooksTable from \"./BooksTable\"\r\nimport { Box} from '@mui/material'\r\nimport Axios from \"axios\"\r\n\r\n\r\nconst Books = ()=>{\r\n    const [books,setBooks] = useState([]);\r\n    const [submitted, setSubmitted] = useState(false);\r\n    const [isEdit, setIsEdit] = useState(false);\r\n    const [selectedBook,setSelectedBook] = useState({});\r\n\r\n    useEffect(()=>{\r\n        getBooks(); \r\n    },[]);\r\n    const getBooks = () =>{\r\n        Axios.get('http://localhost:3001/api/books')\r\n            .then(response =>{\r\n                setBooks(response.data?.response||[]);\r\n            })\r\n            .catch(error =>{\r\n                console.error(\"Axios Error: \",error)\r\n            })\r\n    }\r\n\r\n    const addBook = (data) =>{\r\n        setSubmitted(true);\r\n        const payload ={\r\n            id: data.id,\r\n            name: data.name,\r\n            author: data.author\r\n        }\r\n        Axios.post('http://localhost:3001/api/addbook',payload)\r\n            .then(()=>{\r\n                getBooks();\r\n                setSubmitted(false);\r\n                setIsEdit(false);\r\n            })\r\n            .catch(error =>{\r\n                console.error(\"Axios Error: \",error)\r\n            })\r\n    }\r\n    const updateBook = (data) =>{\r\n        setSubmitted(true);\r\n        const payload ={\r\n            id: data.id,\r\n            name: data.name,\r\n            author: data.author\r\n        }\r\n        Axios.post('http://localhost:3001/api/updatebook',payload)\r\n            .then(()=>{\r\n                getBooks();\r\n                setSubmitted(false);\r\n                setIsEdit(false);\r\n            })\r\n            .catch(error =>{\r\n                console.error(\"Axios Error: \",error)\r\n            })\r\n    \r\n    }\r\n\r\n    return(\r\n        <Box \r\n            sx={{\r\n                padding: '100px',\r\n                margin: 'auto',\r\n                marginTop: '100px'\r\n            }}\r\n        >\r\n            <BookForm\r\n                addBook={addBook}\r\n                submitted={submitted}\r\n                data ={selectedBook}\r\n            />\r\n            <BooksTable \r\n                rows={books}\r\n                selectedBook={data =>{\r\n                        setSelectedBook(data);\r\n                        setIsEdit(true); \r\n                    }\r\n                }\r\n            />\r\n        </Box>\r\n        \r\n    )\r\n}\r\nexport default Books;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}